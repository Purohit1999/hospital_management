{% extends 'hospital/admin_base.html' %}
{% load static %}

{% block extra_css %}
<style>
  .section-title {
    background: linear-gradient(to right, #0072ff, #8811c5);
    color: white;
    padding: 15px 0;
    text-align: center;
    border-radius: 5px 5px 0 0;
    margin-bottom: 0;
  }

  .card-box {
    background: #fff;
    border: 1px solid #dee2e6;
    border-radius: 5px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
  }

  .table th,
  .table td {
    vertical-align: middle !important;
    text-align: center;
  }

  .btn-discharge {
    font-size: 13px;
    padding: 4px 10px;
    border-radius: 4px;
  }

  .container {
    margin-top: 40px;
    margin-bottom: 60px;
  }

  .table-hover tbody tr:hover {
    background-color: #f9f9f9;
  }
</style>
{% endblock %}

{% block content %}

<div class="container">
  <div class="card-box">
    <h4 class="section-title">Patients Awaiting Discharge</h4>
    <div class="table-responsive">
      <table class="table table-bordered table-hover mb-0">
        <thead class="thead-light">
          <tr>
            <th>Name</th>
            <th>Symptoms</th>
            <th>Mobile</th>
            <th>Discharge</th>
          </tr>
        </thead>
        <tbody>
          {% for p in patients %}
          <tr>
            <td>{{ p.user.get_full_name|default:p.user.username }}</td>
            <td>{{ p.symptoms }}</td>
            <td>{{ p.mobile }}</td>
            <td>
              <a class="btn btn-success btn-sm btn-discharge" href="{% url 'discharge-patient' p.id %}" title="Discharge Patient">
                <i class="fas fa-sign-out-alt"></i> Discharge
              </a>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="4" class="text-center text-muted">No patients available for discharge.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

<!--
Developed By: Param Purohit
-->

{% endblock content %}
