{% extends 'hospital/doctor_base.html' %}
{% load static %}
{% block content %}

<!-- Page Container -->
<div class="container my-5">
  <div class="card shadow">
    <div class="card-header bg-success text-white text-center">
      <h5 class="mb-0">Discharged Patient Records</h5>
    </div>

    <div class="card-body">
      {% if discharged_patients %}
      <div class="table-responsive">
        <table class="table table-bordered table-hover table-striped">
          <thead class="thead-dark text-center">
            <tr>
              <th>Patient Name</th>
              <th>Admission Date</th>
              <th>Discharge Date</th>
              <th>Symptoms</th>
              <th>Mobile</th>
              <th>Address</th>
              <th>Doctor Fee (£)</th>
              <th>Medicine Cost (£)</th>
              <th>Room Charge (£)</th>
              <th>Other Charge (£)</th>
              <th>Total (£)</th>
            </tr>
          </thead>
          <tbody>
            {% for discharge in discharged_patients %}
            <tr>
              <td>{{ discharge.patient.user.get_full_name }}</td>
              <td>{{ discharge.admission_date }}</td>
              <td>{{ discharge.discharge_date }}</td>
              <td>{{ discharge.patient.symptoms }}</td>
              <td>{{ discharge.patient.mobile }}</td>
              <td>{{ discharge.patient.address }}</td>
              <td>£ {{ discharge.doctor_fee|floatformat:2 }}</td>
              <td>£ {{ discharge.medicine_cost|floatformat:2 }}</td>
              <td>£ {{ discharge.room_charge|floatformat:2 }}</td>
              <td>£ {{ discharge.other_charge|floatformat:2 }}</td>
              <td class="font-weight-bold text-success">£ {{ discharge.total|floatformat:2 }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% else %}
      <div class="alert alert-warning text-center">
        No discharge records found.
      </div>
      {% endif %}
    </div>
  </div>
</div>

{% endblock content %}
