{% extends 'hospital/doctor_base.html' %}
{% load static %}
{% block content %}

<!-- Appointments Deletion Table -->
<div class="container mb-5">
  <div class="card shadow-lg">
    <div class="card-header bg-danger text-white text-center">
      <h5 class="mb-0">Delete Your Appointments</h5>
    </div>
    <div class="table-responsive">
      <table class="table table-striped table-hover mb-0">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Patient Name</th>
            <th scope="col">Picture</th>
            <th scope="col">Description</th>
            <th scope="col">Delete</th>
          </tr>
        </thead>
        <tbody>
          {% for a, p in appointments %}
          <tr>
            <td>{{ a.patientName }}</td>
            <td>
              {% if p.profile_pic %}
                <img src="{{ p.profile_pic.url }}" alt="Profile Pic" class="img-thumbnail" style="height: 50px; width: 50px;">
              {% else %}
                <img src="{% static 'images/default_avatar.png' %}" alt="Default" class="img-thumbnail" style="height: 50px; width: 50px;">
              {% endif %}
            </td>
            <td>{{ a.description }}</td>
            <td>
              <a href="{% url 'delete-appointment' a.id %}" class="btn btn-danger btn-sm">
                <i class="fas fa-trash-alt"></i> Delete
              </a>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="4" class="text-center text-muted">No appointments to delete.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock content %}
